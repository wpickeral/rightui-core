import { Canvas, Meta, Story } from '@storybook/addon-docs'
import './styles.css'
import { Switch } from './Switch'

<Meta title="Switch" component={Switch}/>

# @uistudio/switch
An unstyled, lightweight, keyboard-friendly switch component for your React app.

## Installation
With npm:

```bash
npm install @uistudio/switch
```

With yarn:

```bash
yarn add @uistudio/switch
```

## Usage
```tsx
import {useState} from 'react';
import { Switch } from '@uistudio/switch'

const App = () => {
  const [checked, setChecked] = useState(false)

  return (
    <Switch
      label="Enable Notifications"
      checked={checked}
      onChecked={checked => setChecked(checked)}
    />
  )
}
```

## Props
| Prop                  | Type                                            | Default | Description                                                                                                             |
|-----------------------|-------------------------------------------------|---------|-------------------------------------------------------------------------------------------------------------------------|
| `label`               | `string`                                        | -       | Label text to display next to the switch.                                                                               |
| `description?`        | `string`                                        | -       | The description for the switch.                                                                                         |
| `onChecked`           | `(checked: boolean) => void`                    | -       | A callback for when the switch is toggled. The callback will be called with the new checked state.                      |
| `checked`             | `boolean`                                       | false   | Whether the switch is checked                                                                                           |
| `inputCheckbox?`      | `boolean`                                       | false   | If true, the switch will be rendered as an input element with the type="checkbox". A button element is used by default. |
| `inputCheckboxProps?` | `React.InputHTMLAttributes<HTMLInputElement>`   | -       | Props to pass to the input element.                                                                                     |
| `buttonProps?`        | `React.ButtonHTMLAttributes<HTMLButtonElement>` | -       | Props to pass to the button element                                                                                     |

## Styling

Helper classes are available for styling the component.

| class                                    | description                                                                                                   |
|------------------------------------------|---------------------------------------------------------------------------------------------------------------|
| `uis-switch`                             | The switch container                                                                                          |
| `uis_switch__button`                     | The switch button or input element                                                                            |
| `uis_switch__button--checked`            | The switch is enabled                                                                                         |
| `uis_switch__toggle--indicator`          | The switch toggle indicator                                                                                   |
| `uis-switch__label`                      | The switch label                                                                                              |
| `uis-switch__description`                | The switch description                                                                                        |
| `uis-switch-label-description-container` | The container for the label and description. Only available if the label and description props are available. |


View in [Sandbox](https://codesandbox.io/s/nifty-sun-7o2iev).

export const Template = (args) => <Switch {...args}/>
export const WithLabel = Template.bind({})
WithLabel.args = {
  label: 'Enable Notifications',
}

export const WithLabelAndDescription = Template.bind({})
WithLabelAndDescription.args = {
  label: 'Enable Notifications',
  description: 'Get notified when something important happens.',
}

<Canvas>
  <Story name="With label">
    {WithLabel}
  </Story>
</Canvas>

## With label and description
<Canvas>
  <Story name="With label and description">
    {WithLabelAndDescription}
  </Story>
</Canvas>


## License
MIT License

## Accessibility

Follows the [WAI-ARIA Authoring Practices](https://www.w3.org/TR/wai-aria-practices/#switch).
