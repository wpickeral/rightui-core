import {Canvas, Meta, Story} from '@storybook/addon-docs'
import './styles.css'
import {Tree} from './Tree'
import {TreeItem} from './TreeItem'

<Meta title="Tree View" component={[Tree, TreeItem]}/>



# @rightui/treeview
An unstyled, lightweight, keyboard-friendly tree view component for your React app.

## Installation
With npm:

```bash
npm install @rightui/treeview
```

With yarn:

```bash
yarn add @rightui/treeview
```


## Usage
```tsx
import {Tree, TreeItem} from '@rightui/treeview';

export function Example() {
  return (
  <Tree label='Menu'>
    <TreeItem content="Options" ariaLevel={1}>
      <TreeItem content="Option 1" ariaLevel={2}/>
      <TreeItem content="Option 2" ariaLevel={2}/>
    </TreeItem>
    <TreeItem content="Settings" ariaLevel={1}/>
  </Tree>
  )
}

```

## Tree props

| Prop                | Type                                                                                            | Default | Description                                                                  |
|---------------------|-------------------------------------------------------------------------------------------------|---------|------------------------------------------------------------------------------|
| `label?`            | `string`                                                                                        | -       | Label text to display next to the switch.                                    |
| `labelElementType?` | <code>'h1' &#124 'h2' &#124 'h3' &#124 'h4' &#124 'h5' &#124 'h6' &#124 'p' &#124 'span'</code> | `h3`    | The element to render for the label of the Tree View component.              |
| `ariaLabel?`        | `string`                                                                                        | -       | The aria-label for the Tree View component.                                  |
| `children`          | <code>`ReactElement<typeof TreeItem>` &#124 `ReactElement<typeof TreeItem>[]`</code>            | `-      | One or more TreeItem components to render as children of the Tree component. |

Note: A label is required for accessibility. You can use the `ariaLabel` prop to provide an accessible label or the `label` prop to provide a visible label.


## TreeItem props

| Prop            | Type                                                                                                | Default              | Description                                                                          |
|-----------------|-----------------------------------------------------------------------------------------------------|----------------------|--------------------------------------------------------------------------------------|
| `id`            | `string`                                                                                            | -                    | The id of the TreeItem.                                                              |
| `indent`        | `number`                                                                                            | 16                   | The margin-left value for the TreeItem. Controls how much the tree item is indented. |
| `ariaLevel`     | `number`                                                                                            | -                    | The aria-level for the Tree Item component.                                          |
| `content`       | `ReactNode`                                                                                         | -                    | The content of the TreeItem component.                                               |
| `children`      | <code>ReactNode &#124; ReactNode[]</code>                                                           | -                    | One or more TreeItems to render.                                                     |
| `onSelect?`     | <code>(event: React.SyntheticEvent<HTMLLIElement, Event> &#124 React.KeyboardEvent) => void;</code> | -                    | A callback function that is called when the TreeItem is selected.                    |
| `onExpand?`     | <code>(event: React.SyntheticEvent<HTMLLIElement, Event> &#124 React.KeyboardEvent) => void;</code> | -                    | A callback function that is called when the TreeItem is expanded.                    |
| `expandIcon?`   | `JSX.Element`                                                                                       | `<ChevronDownSVG/>`  | An icon to render when an expandable TreeItem is expanded.                           |
| `collapseIcon?` | `JSX.Element`                                                                                       | `<ChevronRightSVG/>` | An icon to render when an expandable TreeItem is collapsed.                          |

## Styling

Helper classes are available for styling the component.

| class                         | description                                          |
|-------------------------------|------------------------------------------------------|
| `rui-tree`                    | The root node                                        |
| `rui-tree__label`             | The tree label if the `label` prop is not undefined  |
| `rui-tree-item`               | The treeitem container                               |
| `rui-tree-item__content`      | The treeitem content                                 |
| `rui-tree-item--focus`        | Available on the treeitem that has focus             |
| `rui-tree-item--selected`     | Available on the treeitem that is currently selected |
| `rui-tree-item--expanded`     | Available on expandable treeitems that are expanded. |
| `rui-tree-item-expand-icon`   | The expand icon                                      |
| `rui-tree-item-collapse-icon` | The collapse icon                                    |

## With visible label
View in [Sandbox](https://codesandbox.io/s/silly-panka-hdqyr8?file=/src/App.js).
<Canvas>
  <Story name='With visible label'>
    <Tree labelElementType='h3' label='Explorer'>
      <TreeItem content='Menu' ariaLevel={1}>
        <TreeItem content='Groups' ariaLevel={2}>
          <TreeItem content='Admins' ariaLevel={3}>
            <TreeItem content='Add Admin' ariaLevel={4}/>
            <TreeItem content='Delete Admin' ariaLevel={4}/>
          </TreeItem>
          <TreeItem content='Users' ariaLevel={3}>
            <TreeItem content='Add User' ariaLevel={4}/>
            <TreeItem content='Delete User' ariaLevel={4}/>
            <TreeItem content='Change Permissions' ariaLevel={4}/>
          </TreeItem>
        </TreeItem>
        <TreeItem content='Profile' ariaLevel={2}/>
      </TreeItem>
    </Tree>
  </Story>
</Canvas>

## With aria-label
<Canvas>
  <Story name='With aria-label'>
    <Tree ariaLabel='Explorer'>
      <TreeItem content='Menu' ariaLevel={1}>
        <TreeItem content='Groups' ariaLevel={2}>
          <TreeItem content='Admins' ariaLevel={3}>
            <TreeItem content='Add Admin' ariaLevel={4}/>
            <TreeItem content='Delete Admin' ariaLevel={4}/>
          </TreeItem>
          <TreeItem content='Users' ariaLevel={3}>
            <TreeItem content='Add User' ariaLevel={4}/>
            <TreeItem content='Delete User' ariaLevel={4}/>
            <TreeItem content='Change Permissions' ariaLevel={4}/>
          </TreeItem>
        </TreeItem>
        <TreeItem content='Profile' ariaLevel={2}/>
      </TreeItem>
    </Tree>
  </Story>
</Canvas>

## With icons
<Canvas>
  <Story name='With icons'>
    <Tree labelElementType='h3' label='User Management'>
      <TreeItem
        content={
          <div className='icon'>
            <svg xmlns='http://www.w3.org/2000/svg' width='16' height='16'
                 fill='currentColor' className='bi bi-people' viewBox='0 0 16 16'>
              <path
                d='M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z'/>
            </svg>
            Groups
          </div>
        }
        ariaLevel={1}>
        <TreeItem
          content={
            <div className='icon'>
              <svg xmlns='http://www.w3.org/2000/svg' width='16' height='16'
                   fill='currentColor' className='bi bi-person-plus'
                   viewBox='0 0 16 16'>
                <path
                  d='M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z'/>
                <path fillRule='evenodd'
                      d='M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z'/>
              </svg>
              Add User
            </div>
          }
          ariaLevel={2}/>
        <TreeItem
          content={
            <div className='icon'>
              <svg xmlns='http://www.w3.org/2000/svg' width='16' height='16'
                   fill='currentColor' className='bi bi-person-x' viewBox='0 0 16 16'>
                <path
                  d='M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z'/>
                <path fillRule='evenodd'
                      d='M12.146 5.146a.5.5 0 0 1 .708 0L14 6.293l1.146-1.147a.5.5 0 0 1 .708.708L14.707 7l1.147 1.146a.5.5 0 0 1-.708.708L14 7.707l-1.146 1.147a.5.5 0 0 1-.708-.708L13.293 7l-1.147-1.146a.5.5 0 0 1 0-.708z'/>
              </svg>
              Delete User
            </div>
          }
          ariaLevel={3}/>
      </TreeItem>
    </Tree>
  </Story>
</Canvas>


## License
MIT License

## Accessibility

Follows the [WAI-ARIA Authoring Practices](https://www.w3.org/WAI/ARIA/apg/patterns/treeview/).



